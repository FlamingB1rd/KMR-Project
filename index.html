<!DOCTYPE html>
<html>
<head>
	<!-- meta -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- font dependancy injection -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Electrolize&display=swap" rel="stylesheet">

	<!-- stylizing page links -->
	<link rel="icon" href="images/sait-favicon.jpg">
	<link rel="stylesheet" type="text/css" href="style.css">
	<title>Начало</title>
</head>
<body>
	<!-- Nav bar -->
	<nav class="navbar">
		<div class="home">
			<a href="index.html">Начало</a>
		</div>
		<ul class="nav-list" id="nav-list">
			<li class="nav-list-item">
				<a href="comparison.html">iBGP vs eBGP</a>
			</li>
			<li class="nav-list-item">
				<a href="disadvantages.html">Уязвимости и инциденти</a>
			</li>
			<li class="nav-list-item">
				<a href="summary.html">Обобщение</a>
			</li>
			<li class="nav-list-item"> 
				<a href="contact-us.html">Информативно</a>
			</li>
		</ul>
		<div class="menu" id="toggle-button">
			<div class="menu-line"></div>
			<div class="menu-line"></div>
			<div class="menu-line"></div>
		</div>
	</nav>

	<!-- header -->
	<header>
		<img src="images/sait-favicon.jpg">
		<h1>Протокол BGP</h1>
		<h1>(Border Gateway Protocol)</h1>
	</header>

	<!-- main content -->
	<main>
		<h2>Определение:</h2>

		<p>Протоколът на граничния шлюз (BGP) е един от семейството протоколи за IP маршрутизиране (пада се протокол за външен шлюз или EGP), предназначен да разпространява информация за маршрутизиране между автономни сиситеми. (Съкратено AS, те са мрежи, управлявани от едно предприятие или доставчик на услуги)
		<br><br>
		EGP са всички протоколи за векторно маршрутизиране. В такъв протокол, рутерите обменят информация за достъпност на мрежата с най-близките си съседи. Рутерите комуникират помежду си, изпращайки набор от адреси („адресни префикси“), до които те самите могат да достигнат. След това се изпраща самия адрес, до който искат да достигнат.
		<br><br>
		BGP създава стабилност на мрежата, като гарантира, че рутерите могат да се адаптират към неуспехи в маршрута: когато един път е затворен, бързо се намира нов път. BGP взема решения за маршрутизиране въз основа на пътища, дефинирани от правила или мрежови политики, зададени от мрежовите администратори.
		<br><br>
		Структурата на Интернет непрекъснато се променя, като се появяват нови системи, а съществуващите системи стават недостъпни. Поради това всяка AS трябва да бъде актуализирана с информация относно нови маршрути, както и остарели маршрути. Това се прави чрез пиринг сесии, при които всяка AS се свързва със съседни AS с TCP/IP връзка с цел споделяне на информация за маршрутизиране. По този начин BGP има достатъчно информация да използва сложни алгоритми за намиране на най-бързия и ефективен маршрут до определено място спрямо зададените параметри и правила. (Намалява bandwidth) 
		<br><br>
		От 1994 г. насам се използва версия 4 на протокола, която поддържа CIDR и обединяване (агрегация) на маршрути, скоето се намалява размера на маршрутните таблици.
		</p>

		<div class="iframe-container">
			<iframe width="420" height="315"
				src="https://www.youtube.com/embed/A1KXPpqlNZ4">
			</iframe>
		</div>

		<p class="caption">Видео показващо как работи BGP.</p>

		<hr>

		<h2>Какво е AS?</h2>
		<p>Интернета е мрежа от мрежи. Той е разбит на стотици хиляди по-малки мрежи, известни още като автономни системи (AS). Всяка от тези мрежи по същество представлява голям набор от рутери, управлявани от една организация.</p>

		<div style="text-align: center;">
			<img src="images/the-internet.jpg">
		</div>

		<p class="caption">Мрежа от мрежи.</p>

		<p>По-конкретно, AS е голяма мрежа или група от мрежи, които имат унифицирана политика за маршрутизиране. Всеки компютър или устройство, което се свързва с интернет, е свързано към AS.
		<br><br>
		Пакети с данни пресичат Интернет чрез прескачане от AS към AS, докато достигнат до AS, който съдържа адреса на техния интернет протокол (IP) на местоназначението. Маршрутизаторите в тази AS изпращат пакета до IP адреса Всяка AS контролира определен набор от IP адреси, както  примерно една пощенската служба на всеки град е отговорна за доставката на поща до всички адреси в този град. Обхватът от IP адреси, върху които даден AS има контрол, се нарича тяхното „IP адресно пространство“.
		<br><br>
		Повечето AS се свързват с няколко други AS. Ако AS се свързва само с една друга AS и споделя същата политика за маршрутизиране, вместо това може да се счита за подмрежа на първата AS.
		<br><br>
		Обикновено всяка AS се управлява от една голяма организация, като доставчик на интернет услуги (ISP), голяма корпоративна технологична компания, университет или правителствена агенция.
		</p>

		<hr>

		<h2>Принцип на работа на BGP</h2>
		<p>BGP комуникира, като установява TCP връзка по порт 179 - за разлика от повечето други маршрутни протоколи, ползващи UDP. По тази връзка (съединение) се установяват съседства между рутерите, като съобщенията по нея са с лимит 4096 B. За да станат съседи, BGP рутерите, принадлежащи на различни AS, трябва да са непосредствено свързани (без междинни рутери).
		<br><br>
		Тъй като BGP работи върху протокола за управление на предаването (TCP), той е съвместим с останалата част от интернет, която използва TCP за комуникация. TCP гарантира, че пакетите с данни се изпращат и доставят през мрежи. BGP също така взаимодейства добре със защитен слой на сокети (SSL), виртуална частна мрежа (VPN) и сигурност на транспортния слой (TLS).
		<br><br>
		Всеки BGP възел периодично изпраща 19-байтови “keep-alive” съобщения за поддържане на връзката.
		Предложение за съседство се праща с "OPEN" съобщение. Отговорът е KEEPALIVE (положителен) или NOTIFICATION (отрицателен). След KEEPALIVE и установявавен на съседство, започват размените на ъпдейти. Подават се пакети с информация за новите създадени маршруите благодарение на това съседство.
		</p>

		<hr>

		<h2>Атрибути на маршрута</h2>
		<ol>
		  <b><li>
		  	</b>ORIGIN - Указва откъде е научен маршрутът. Три възможни стойности:
		  	<ul>
		  		<li>0 - маршрутът е научен от вътрешен протокол (IGP).</li>
		  		<li>1 - от вътрешен (EGP).</li>
		  		<li>2 - по друг начин, или неизвестно откъде.</li>
		  	</ul>
		  </li>
		  <li>AS_PATH - списък от AS, през които е минал ъпдейтът (описание на маршрута). Маршрутът се натрупва по пътя.</li>
		  <li>AS_SEQUENCE - Начин на представяне на сегмент от маршрута в AS_PATH. Представлява подреден списък от номера на AS.</li>
		  <li>AS_SET - Друг начин за представяне на сегмент - неподреден (множествен) списък.</li>
		  <li>NEXT_HOP - Адрес, към който ще бъде предаден пакет, движещ се по този маршрут. Характерно е, че NEXT_HOP може да не е адресът на рутера, през когото минава маршрутът към целевата AS - но този рутер трябва да е достижим от рутера. Тоест, NEXT_HOP може да указва пакетът да се препрати не на рутера, през който минава най-евтиният път до целта, а към друг рутер, през който обаче трябва да може да се достигне най-евтиният рутер. Върши работа за регулиране на трафика.</li>
		  <li>MULTI_EXIT_DISC - Multi-exit discriminator. Представлява стойността (спрямо рутера, разпращащ ъпдейта) на метриката на избрания маршрут, с интегрирани в нея точки по системата за точкуване. Рутерът, който приема ъпдейта, може въобще да не я гледа, в зависимост от приложените му манипулации.</li>
		  <li>LOCAL_PREF - Горе-долу, представлява разликата в точките на избрания и неизбраните маршрути. Позволява политиката на рутера да се влияе от тази на други рутери.</li>
		</ol>
	</main>

	<!-- footer -->
	<footer>
		<p>Този сайт бе създаден с цел изработване Курсов Проект по Компютърни Мрежи от Ивелин Димитров Николов 121218091 група 52. За повече информация, натиснете <a href="contact-us.html">тук</a></p>
	</footer>
</body>
<script type="text/javascript">
	const toggleButton = document.getElementById('toggle-button');
	const navList = document.getElementById('nav-list');

	toggleButton.addEventListener('click', () => {
		navList.classList.toggle('toggle-active-menu');
	})
</script>
</html>